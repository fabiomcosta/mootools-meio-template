String.implement({matchWith:function(I,N){var L=this;var K=[];if($type(N)=="object"){var A=new Element("div",{"html":L,styles:{"display":"none"}}).inject(document.body);var M=null;var G=null;var H=null;for(selector in N){G=N[selector];if($type(G)=="object"){for(attr in N[tag]){G=(attr=="*")?"\\w+":attr;if($type(N[tag][attr])=="array"){for(var E=0;E--;){}}else{if($type(N[tag][attr])=="string"){}}}}else{if($type(G)=="string"||$type(G)=="array"){if($type(G)=="string"){G=[G]}var D=A.getElements(selector);D.each(function(O){G.each(function(P){O.removeAttribute(P)})})}}}L=A.innerHTML}var C=[(/>\s+</g),"><",(/\s+(\\?>)/g),"$1",(/(<\/?)(\w+)([>\s\/])/g),function(R,Q,P,O){return Q+P.toLowerCase()+O},(/(<\w+\s\w+=)([^\s"'>]+)([^>]*\/?>)/g),function(R,Q,P,O){return Q+'"'+P+'"'+O}];var B=function(){for(var O=0;O<C.length;O+=2){L=L.replace(C[O],C[O+1]);I=I.replace(C[O],C[O+1])}};B();var J=I.replace(/\{([^{}]+)\}/g,function(P,O){K.push(O);return"(.*)"});console.log(J,L);var F=L.match(new RegExp(J));return(F)?F.slice(1).associate(K):null}});Element.implement({matchWith:function(B,A){return this.get("html").matchWith(B,A)}})